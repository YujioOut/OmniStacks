<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>OmniStacks Planner</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <div class="container">
      <h1>OmniStacks Planner</h1>

      <button id="addStackBtn">+ Add Stack</button>

      <div id="stacksContainer">
        <!-- Stacks will be added here -->
      </div>

      <button id="saveBtn">ðŸ’¾ Save Plan</button>
    </div>

    <script>
      document
        .getElementById("addStackBtn")
        .addEventListener("click", function () {
          let stackDiv = document.createElement("div");
          stackDiv.className = "stack";

          let stackTitle = document.createElement("input");
          stackTitle.className = "stack-title";
          stackTitle.placeholder = "Enter Stack Name";

          let skillsContainer = document.createElement("div");
          skillsContainer.className = "skills-container";

          let addSkillBtn = document.createElement("button");
          addSkillBtn.innerText = "+ Add Skill";
          addSkillBtn.className = "add-skill-btn";

          addSkillBtn.addEventListener("click", function () {
            let skillDiv = document.createElement("div");
            skillDiv.className = "skill";

            let skillInput = document.createElement("input");
            skillInput.className = "skill-input";
            skillInput.placeholder = "Enter Skill";

            let activityInput = document.createElement("input");
            activityInput.className = "activity-input";
            activityInput.placeholder = "Enter Activity";

            skillDiv.appendChild(skillInput);
            skillDiv.appendChild(activityInput);
            skillsContainer.appendChild(skillDiv);
          });

          stackDiv.appendChild(stackTitle);
          stackDiv.appendChild(skillsContainer);
          stackDiv.appendChild(addSkillBtn);
          document.getElementById("stacksContainer").appendChild(stackDiv);
        });

      document.getElementById("saveBtn").addEventListener("click", function () {
        let stacks = document.querySelectorAll(".stack");
        let data = [];

        stacks.forEach((stack) => {
          let stackName = stack.querySelector(".stack-title").value;
          let skills = [];

          stack.querySelectorAll(".skill").forEach((skillDiv) => {
            let skill = skillDiv.querySelector(".skill-input").value;
            let activity = skillDiv.querySelector(".activity-input").value;
            skills.push({ skill, activity });
          });

          data.push({ stackName, skills });
        });

        console.log("Saved Data:", JSON.stringify(data, null, 2));
      });
    </script>
  </body>
</html>
